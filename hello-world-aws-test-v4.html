<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Evidence - Hello World Test v4 (é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«æ–¹å¼)</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f5f5f5; }
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; margin: -30px -30px 30px -30px; border-radius: 8px 8px 0 0; }
        .step { margin: 20px 0; padding: 20px; border-left: 4px solid #007bff; background-color: #f8f9ff; }
        .code-block { background-color: #f8f9fa; padding: 20px; border-radius: 5px; border: 1px solid #e9ecef; font-family: 'Consolas', 'Monaco', monospace; font-size: 14px; line-height: 1.6; overflow-x: auto; }
        .copy-button { background-color: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin: 10px 0; }
        .copy-button:hover { background-color: #0056b3; }
        .success { background-color: #d4edda; color: #155724; padding: 15px; border-radius: 5px; margin: 10px 0; }
        .warning { background-color: #fff3cd; color: #856404; padding: 15px; border-radius: 5px; margin: 10px 0; }
        .info { background-color: #d1ecf1; color: #0c5460; padding: 15px; border-radius: 5px; margin: 10px 0; }
        .feature { background: white; padding: 15px; margin: 10px 0; border-radius: 5px; border: 1px solid #ddd; }
        img { max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 5px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ AWS Evidence System - Hello World Test v4</h1>
            <p><strong>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«æ–¹å¼ï¼š100%å®‰å…¨ãƒ»XSSè­¦å‘Šãªã—</strong></p>
        </div>
        
        <div class="success">
            <h3>âœ… ã“ã®æ–¹å¼ã®åˆ©ç‚¹:</h3>
            <ul>
                <li><strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­¦å‘Šãªã—</strong> - XSSæ”»æ’ƒã¨åˆ¤å®šã•ã‚Œãªã„</li>
                <li><strong>ä¼æ¥­ç’°å¢ƒå¯¾å¿œ</strong> - ç‰¹åˆ¥ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ä¸è¦</li>
                <li><strong>ç¢ºå®Ÿãªå‹•ä½œ</strong> - AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®èªè¨¼ã‚’ç›´æ¥åˆ©ç”¨</li>
                <li><strong>æ¨©é™ç¶™æ‰¿</strong> - ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¨©é™ã‚’ãã®ã¾ã¾ä½¿ç”¨</li>
            </ul>
        </div>

        <div class="step">
            <h3>ğŸ¯ ã‚¹ãƒ†ãƒƒãƒ—1: AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã</h3>
            <p>ã¾ãšã€AWS Management Console ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ï¼š</p>
            <p><a href="https://console.aws.amazon.com" target="_blank">https://console.aws.amazon.com</a></p>
        </div>

        <div class="step">
            <h3>ğŸ› ï¸ ã‚¹ãƒ†ãƒƒãƒ—2: é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ã</h3>
            <p>AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®ãƒšãƒ¼ã‚¸ã§ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ãã¾ã™ï¼š</p>
            <ul>
                <li><strong>ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰:</strong> F12 ã‚­ãƒ¼ã‚’æŠ¼ã™</li>
                <li><strong>å³ã‚¯ãƒªãƒƒã‚¯:</strong> ãƒšãƒ¼ã‚¸ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œæ¤œè¨¼ã€ã¾ãŸã¯ã€Œé–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã€</li>
                <li><strong>ãƒ¡ãƒ‹ãƒ¥ãƒ¼:</strong> ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ ãã®ä»–ã®ãƒ„ãƒ¼ãƒ« â†’ é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«</li>
            </ul>
            <p>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ãŒé–‹ã„ãŸã‚‰ <strong>ã€ŒConsoleã€</strong> ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚</p>
        </div>

        <div class="step">
            <h3>ğŸ“‹ ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ï¼†å®Ÿè¡Œ</h3>
            <p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã®Consoleã«è²¼ã‚Šä»˜ã‘ã¦ Enterã‚­ãƒ¼ ã‚’æŠ¼ã—ã¦ãã ã•ã„ï¼š</p>
            
            <button class="copy-button" onclick="copyCode('test-code')">ğŸ“‹ ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
            
            <div class="code-block" id="test-code">
// AWS Evidence System - Hello World Test
console.log('ğŸš€ AWS Evidence System ãƒ†ã‚¹ãƒˆé–‹å§‹');

// AWS SDK ã‚’å‹•çš„ã«èª­ã¿è¾¼ã¿
function loadAWSSDK() {
    return new Promise((resolve, reject) => {
        if (typeof AWS !== 'undefined') {
            console.log('âœ… AWS SDK ãŒæ—¢ã«èª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™');
            resolve();
            return;
        }
        
        const script = document.createElement('script');
        script.src = 'https://sdk.amazonaws.com/js/aws-sdk-2.1542.0.min.js';
        script.onload = () => {
            console.log('âœ… AWS SDK ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ');
            resolve();
        };
        script.onerror = reject;
        document.head.appendChild(script);
    });
}

// ãƒ¡ã‚¤ãƒ³å®Ÿè¡Œé–¢æ•°
async function runAWSTest() {
    try {
        console.log('ğŸ“¡ AWS SDK ã‚’èª­ã¿è¾¼ã¿ä¸­...');
        await loadAWSSDK();
        
        // ãƒªãƒ¼ã‚¸ãƒ§ãƒ³è¨­å®š
        AWS.config.region = 'ap-northeast-1';
        console.log('ğŸŒ ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ ap-northeast-1 ã«è¨­å®š');
        
        // STSï¼ˆSecurity Token Serviceï¼‰ã§èªè¨¼æƒ…å ±ç¢ºèª
        console.log('ğŸ” èªè¨¼æƒ…å ±ã‚’ç¢ºèªä¸­...');
        const sts = new AWS.STS();
        
        sts.getCallerIdentity((err, data) => {
            if (err) {
                console.error('âŒ èªè¨¼ã‚¨ãƒ©ãƒ¼:', err);
            } else {
                console.log('âœ… èªè¨¼æˆåŠŸï¼');
                console.log('ğŸ“‹ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±:');
                console.log(`   Account: ${data.Account}`);
                console.log(`   ARN: ${data.Arn}`);
                console.log(`   User ID: ${data.UserId}`);
                
                // S3ãƒã‚±ãƒƒãƒˆä¸€è¦§ã‚‚å–å¾—ã—ã¦ã¿ã‚‹
                testS3Access();
            }
        });
        
    } catch (error) {
        console.error('âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', error);
    }
}

// S3ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ
function testS3Access() {
    console.log('ğŸª£ S3ãƒã‚±ãƒƒãƒˆä¸€è¦§ã‚’å–å¾—ä¸­...');
    const s3 = new AWS.S3();
    
    s3.listBuckets((err, data) => {
        if (err) {
            console.error('âŒ S3ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼:', err);
        } else {
            console.log(`âœ… S3ãƒã‚±ãƒƒãƒˆä¸€è¦§å–å¾—æˆåŠŸï¼ (${data.Buckets.length}å€‹ã®ãƒã‚±ãƒƒãƒˆ)`);
            if (data.Buckets.length > 0) {
                console.log('ğŸ“‹ ãƒã‚±ãƒƒãƒˆä¸€è¦§:');
                data.Buckets.forEach((bucket, index) => {
                    console.log(`   ${index + 1}. ${bucket.Name} (ä½œæˆæ—¥: ${bucket.CreationDate})`);
                });
            } else {
                console.log('   (ãƒã‚±ãƒƒãƒˆãŒå­˜åœ¨ã—ã¾ã›ã‚“)');
            }
            
            console.log('ğŸ‰ Hello World ãƒ†ã‚¹ãƒˆå®Œäº†ï¼');
        }
    });
}

// ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
runAWSTest();
            </div>
        </div>

        <div class="step">
            <h3>ğŸ” ã‚¹ãƒ†ãƒƒãƒ—4: çµæœã‚’ç¢ºèª</h3>
            <p>Consoleã«ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ï¼š</p>
            <div class="feature">
                <ul>
                    <li>âœ… AWS SDK ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ</li>
                    <li>ğŸŒ ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ ap-northeast-1 ã«è¨­å®š</li>
                    <li>âœ… èªè¨¼æˆåŠŸï¼</li>
                    <li>ğŸ“‹ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±: Account, ARN, User ID</li>
                    <li>âœ… S3ãƒã‚±ãƒƒãƒˆä¸€è¦§å–å¾—æˆåŠŸï¼</li>
                    <li>ğŸ‰ Hello World ãƒ†ã‚¹ãƒˆå®Œäº†ï¼</li>
                </ul>
            </div>
        </div>

        <div class="info">
            <h3>ğŸ“ é«˜åº¦ãªãƒ†ã‚¹ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰:</h3>
            <p>åŸºæœ¬ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰ã€ä»¥ä¸‹ã®ç™ºå±•çš„ãªã‚³ãƒ¼ãƒ‰ã‚‚è©¦ã›ã¾ã™ï¼š</p>
            
            <button class="copy-button" onclick="copyCode('advanced-code')">ğŸ“‹ é«˜åº¦ãªãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
            
            <div class="code-block" id="advanced-code">
// é«˜åº¦ãªAWSã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ
async function runAdvancedTests() {
    console.log('ğŸ§ª é«˜åº¦ãªãƒ†ã‚¹ãƒˆã‚’é–‹å§‹');
    
    // CloudWatch Logs ã®ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—ä¸€è¦§
    console.log('ğŸ“Š CloudWatch Logs ã‚°ãƒ«ãƒ¼ãƒ—ä¸€è¦§ã‚’å–å¾—ä¸­...');
    const cloudwatchLogs = new AWS.CloudWatchLogs();
    
    cloudwatchLogs.describeLogGroups({ limit: 10 }, (err, data) => {
        if (err) {
            console.log('âš ï¸ CloudWatch Logs ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—:', err.message);
        } else {
            console.log(`âœ… CloudWatch Logs: ${data.logGroups.length}å€‹ã®ãƒ­ã‚°ãƒ«ãƒ¼ãƒ—`);
            data.logGroups.forEach(group => {
                console.log(`   ğŸ“ ${group.logGroupName}`);
            });
        }
    });
    
    // Step Functions ã®çŠ¶æ…‹ãƒã‚·ãƒ³ä¸€è¦§
    console.log('ğŸ”„ Step Functions çŠ¶æ…‹ãƒã‚·ãƒ³ä¸€è¦§ã‚’å–å¾—ä¸­...');
    const stepfunctions = new AWS.StepFunctions();
    
    stepfunctions.listStateMachines({}, (err, data) => {
        if (err) {
            console.log('âš ï¸ Step Functions ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—:', err.message);
        } else {
            console.log(`âœ… Step Functions: ${data.stateMachines.length}å€‹ã®çŠ¶æ…‹ãƒã‚·ãƒ³`);
            data.stateMachines.forEach(machine => {
                console.log(`   âš™ï¸ ${machine.name} (${machine.type})`);
            });
        }
    });
    
    // Lambda é–¢æ•°ä¸€è¦§
    console.log('âš¡ Lambda é–¢æ•°ä¸€è¦§ã‚’å–å¾—ä¸­...');
    const lambda = new AWS.Lambda();
    
    lambda.listFunctions({ MaxItems: 10 }, (err, data) => {
        if (err) {
            console.log('âš ï¸ Lambda ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—:', err.message);
        } else {
            console.log(`âœ… Lambda: ${data.Functions.length}å€‹ã®é–¢æ•°`);
            data.Functions.forEach(func => {
                console.log(`   âš¡ ${func.FunctionName} (${func.Runtime})`);
            });
        }
    });
    
    console.log('ğŸ¯ é«˜åº¦ãªãƒ†ã‚¹ãƒˆå®Œäº†ï¼');
}

// é«˜åº¦ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
runAdvancedTests();
            </div>
        </div>

        <div class="warning">
            <h3>âš ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:</h3>
            <ul>
                <li><strong>ã€ŒAccess Deniedã€ã‚¨ãƒ©ãƒ¼:</strong> æ­£å¸¸ã§ã™ã€‚è©²å½“ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒãªã„ã ã‘</li>
                <li><strong>ã€ŒNetwork Errorã€:</strong> ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèª</li>
                <li><strong>ã€ŒAWS is not definedã€:</strong> SDKèª­ã¿è¾¼ã¿å¤±æ•—ã€ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†å®Ÿè¡Œ</li>
                <li><strong>èªè¨¼ã‚¨ãƒ©ãƒ¼:</strong> AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«æ­£ã—ããƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ã‹ç¢ºèª</li>
            </ul>
        </div>

        <div class="success">
            <h3>ğŸ‰ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:</h3>
            <p>Hello Worldãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰ã€æœ¬æ ¼çš„ãªã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹åé›†ã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºã«é€²ã‚€ã“ã¨ãŒã§ãã¾ã™ï¼</p>
            <ul>
                <li>Step Functionså®Ÿè¡Œå±¥æ­´ã®è‡ªå‹•å–å¾—</li>
                <li>CloudWatchãƒ­ã‚°ã®ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</li>
                <li>S3ã¨Redshiftã®ãƒ‡ãƒ¼ã‚¿æ¯”è¼ƒ</li>
                <li>HTMLãƒ¬ãƒãƒ¼ãƒˆã®è‡ªå‹•ç”Ÿæˆ</li>
            </ul>
        </div>
    </div>

    <script>
        function copyCode(elementId) {
            const codeElement = document.getElementById(elementId);
            const text = codeElement.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = 'âœ… ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼';
                button.style.backgroundColor = '#28a745';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.backgroundColor = '#007bff';
                }, 2000);
            }).catch(() => {
                alert('æ‰‹å‹•ã§ã‚³ãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„');
            });
        }
    </script>
</body>
</html>